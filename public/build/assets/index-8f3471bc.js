import{D as h}from"./DashboardLaout-ed7edc68.js";import{_ as b}from"./Dropdown-4e21f902.js";import{i as g,Z as w,h as p,d as u,b as l,a as t,w as a,F as m,g as x,o as r,t as s,f as d,c,e as i}from"./app-749d0917.js";import{_ as v}from"./ConfirmationModal-70dcc8d7.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-0b41b8cf.js";const $={components:{DashboardLaout:h,Link:g,Head:w,ConfirmationModal:v,Dropdown:b},props:{loans:Object},layout:h,setup(){return{confirm:()=>window.confirm("Are you sure you want to delete this user?")}}},D={class:"max-w-7xl mx-auto px-2"},L={class:"flex justify-between gap-4 mb-4 place-items-center"},N=t("h2",{class:"text-xl font-bold"},"Loans",-1),A=t("i",{class:"mr-2 fa-solid fa-plus"},null,-1),M=t("span",null,"Apply",-1),V=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Your Loan Applications",-1),j={class:"bg-white p-6 rounded-lg shadow-lg"},B={class:"w-full"},C=t("thead",null,[t("tr",null,[t("th",{class:"text-left py-2"},"Date"),t("th",{class:"text-left py-2"},"Amount"),t("th",{class:"text-left py-2"},"Interest Rate"),t("th",{class:"text-left py-2"},"Pay/Month"),t("th",{class:"text-left py-2"},"Total Pay"),t("th",{class:"text-left py-2"},"Status"),t("th",{class:"text-left py-2"},"Term"),t("th",{class:"text-left py-2"})])],-1),F={class:"py-2"},I={class:"py-2"},H={class:"py-2"},R={class:"py-2"},T={class:"py-2"},E={class:"py-2"},P={class:"py-2"},S={class:"py-2"},U=t("button",{class:"mr-2 text-sm"},[d("MENU "),t("i",{class:"fas fa-angle-down"})],-1);function Y(o,O,_,Z,q,z){const f=p("Head"),n=p("Link"),y=p("dropdown-menu");return r(),u(m,null,[l(f,{title:"Loans"}),t("div",D,[t("div",L,[N,l(n,{href:"loans/create",class:"rounded bg-secondary-500 text-white hover:bg-secondary-600 transition border border-secondary-500 px-4 py-2"},{default:a(()=>[A,M]),_:1})]),t("section",null,[V,t("div",j,[t("table",B,[C,t("tbody",null,[(r(!0),u(m,null,x(_.loans.data,e=>(r(),u("tr",{key:e.id,class:"border-t"},[t("td",F,s(new Date(e.created_at).getDate())+"."+s(new Date(e.created_at).getMonth()+1)+"."+s(new Date(e.created_at).getFullYear()),1),t("td",I,s(e.amount),1),t("td",H,s(e.rate)+"%",1),t("td",R,s(Math.round((e.rate/100*e.amount+Number.parseInt(e.amount))/Number.parseInt(e.term)).toFixed(2)),1),t("td",T,s(e.rate/100*e.amount+Number.parseInt(e.amount)),1),t("td",E,s(e.status),1),t("td",P,s(e.term)+" months",1),t("td",S,[l(y,{overlay:!1,class:"rounded overflow-hidde"},{trigger:a(()=>[U]),body:a(()=>[l(n,{href:o.route("loans.show",e),class:"block w-full hover:bg-secondary-200 text-sm p-2 transition"},{default:a(()=>[d("View ")]),_:2},1032,["href"]),e.status=="pending"||o.$page.props.auth.user.role=="admin"?(r(),c(n,{key:0,href:o.route("loans.edit",e),class:"block w-full hover:bg-secondary-200 text-sm p-2 transition"},{default:a(()=>[d("Update ")]),_:2},1032,["href"])):i("",!0),e.status!="Approved"&&o.$page.props.auth.user.role=="admin"?(r(),c(n,{key:1,href:`loans/approve/${e.id}/Approved`,class:"block w-full hover:bg-secondary-200 text-sm p-2 transition"},{default:a(()=>[d("Approve ")]),_:2},1032,["href"])):i("",!0),e.status=="pending"&&o.$page.props.auth.user.role=="admin"?(r(),c(n,{key:2,href:`loans/approve/${e.id}/Rejected`,class:"block w-full hover:bg-secondary-200 text-sm p-2 transition"},{default:a(()=>[d("Reject ")]),_:2},1032,["href"])):i("",!0),o.$page.props.auth.user.role=="admin"?(r(),c(n,{key:3,href:o.route("loans.destroy",e),method:"delete",class:"block w-full hover:bg-secondary-200 text-sm p-2 transition"},{default:a(()=>[d("Delete ")]),_:2},1032,["href"])):i("",!0)]),_:2},1024)])]))),128))])])])])])],64)}const tt=k($,[["render",Y]]);export{tt as default};
