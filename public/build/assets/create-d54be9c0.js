import{D as u}from"./DashboardLaout-982c374e.js";import{i as h,Z as g,T as y,h as f,d as n,b as x,a as t,j as v,l as i,s as w,F as c,g as p,x as _,o as r,t as a}from"./app-8ff31ed5.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const A={components:{DashboardLaout:u,Link:h,Head:g},props:{errors:Object,loans:Object,loan_packages:Object},layout:u,setup(){const d=y({amount:null,purpose:"",term:null,loan_package_id:""});return{loan:d,submitApplication:()=>{d.post("/loan/store",{onSuccess:l=>{d.reset(),console.log(l),alert("Loan Created successfully")}})}}}},L={class:"max-w-7xl mx-auto px-2"},S=t("header",{class:"bg-white p-6 shadow"},[t("h2",{class:"text-xl font-bold text-gray-800"},"Loan Application")],-1),D={class:"overflow-y-auto"},V={class:"mb-6"},j=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Apply for a Loan",-1),M={class:"mb-4"},B=t("label",{for:"term",class:"block text-gray-700"},"Select Available Packages",-1),C=["value"],H={class:"mb-4"},O=t("label",{for:"amount",class:"block text-gray-700"},"Loan Amount",-1),P={class:"mb-4"},T=t("label",{for:"purpose",class:"block text-gray-700"},"Purpose",-1),U=t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg"},"Submit Application",-1),F=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Your Loan Applications",-1),N={class:"bg-white p-6 rounded-lg shadow-lg"},q={class:"w-full"},E=t("thead",null,[t("tr",null,[t("th",{class:"text-left py-2"},"Date"),t("th",{class:"text-left py-2"},"Amount"),t("th",{class:"text-left py-2"},"Status"),t("th",{class:"text-left py-2"},"Term"),t("th",{class:"text-left py-2"},"Purpose")])],-1),K={class:"py-2"},Y={class:"py-2"},Z={class:"py-2"},z={class:"py-2"},G={class:"py-2"};function I(d,e,l,s,J,Q){const m=f("Head");return r(),n(c,null,[x(m,{title:"Add user"}),t("div",L,[S,t("main",D,[t("section",V,[j,t("form",{onSubmit:e[4]||(e[4]=v((...o)=>s.submitApplication&&s.submitApplication(...o),["prevent"])),class:"bg-white p-6 rounded-lg shadow-lg"},[t("div",M,[B,i(t("select",{onChange:e[0]||(e[0]=o=>s.loan.amount=l.loan_packages.filter(b=>b.id==s.loan.loan_package_id)[0].amount),"onUpdate:modelValue":e[1]||(e[1]=o=>s.loan.loan_package_id=o),class:"p-2 w-full border border-gray-300 rounded-lg"},[(r(!0),n(c,null,p(l.loan_packages,o=>(r(),n("option",{key:o.id,value:o.id},"you will get K"+a(o.amount)+" @ "+a(o.rate)+"%/Month for "+a(o.duration)+" months",9,C))),128))],544),[[w,s.loan.loan_package_id]])]),t("div",H,[O,i(t("input",{type:"number",id:"amount","onUpdate:modelValue":e[2]||(e[2]=o=>s.loan.amount=o),placeholder:"Select package above",class:"mt-1 p-2 w-full border border-gray-300 rounded-lg",disabled:""},null,512),[[_,s.loan.amount]])]),t("div",P,[T,i(t("textarea",{id:"purpose","onUpdate:modelValue":e[3]||(e[3]=o=>s.loan.purpose=o),class:"mt-1 p-2 w-full border border-gray-300 rounded-lg",required:""},null,512),[[_,s.loan.purpose]])]),U],32)]),t("section",null,[F,t("div",N,[t("table",q,[E,t("tbody",null,[(r(!0),n(c,null,p(l.loans.data,o=>(r(),n("tr",{key:o.id,class:"border-t"},[t("td",K,a(o.date),1),t("td",Y,a(o.amount),1),t("td",Z,a(o.status),1),t("td",z,a(o.term)+" months",1),t("td",G,a(o.purpose),1)]))),128))])])])])])])],64)}const $=k(A,[["render",I]]);export{$ as default};
