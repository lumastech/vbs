import{D as u}from"./DashboardLaout-ed7edc68.js";import{i as h,Z as g,T as y,h as f,d as n,b as x,a as t,j as w,l as i,s as v,F as c,g as p,x as _,o as r,t as a}from"./app-749d0917.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const A={components:{DashboardLaout:u,Link:h,Head:g},props:{errors:Object,loans:Object,loan_packages:Object},layout:u,setup(){const d=y({amount:null,purpose:"",term:null,loan_package_id:""});return{loan:d,submitApplication:()=>{d.post("/loan/store",{onSuccess:l=>{d.reset(),console.log(l),alert("Loan Created successfully")}})}}}},D={class:"max-w-7xl mx-auto px-2"},L=t("header",{class:"bg-white p-6 shadow"},[t("h2",{class:"text-xl font-bold text-gray-800"},"Loan Application")],-1),S={class:"overflow-y-auto"},M={class:"mb-6"},V=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Apply for a Loan",-1),j={class:"mb-4"},B=t("label",{for:"term",class:"block text-gray-700"},"Select Available Packages",-1),C=["value"],F={class:"mb-4"},H=t("label",{for:"amount",class:"block text-gray-700"},"Loan Amount",-1),O={class:"mb-4"},P=t("label",{for:"purpose",class:"block text-gray-700"},"Purpose",-1),T=t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg"},"Submit Application",-1),U=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Your Loan Applications",-1),N={class:"bg-white p-6 rounded-lg shadow-lg"},Y={class:"w-full"},q=t("thead",null,[t("tr",null,[t("th",{class:"text-left py-2"},"Date"),t("th",{class:"text-left py-2"},"Amount"),t("th",{class:"text-left py-2"},"Status"),t("th",{class:"text-left py-2"},"Term"),t("th",{class:"text-left py-2"},"Purpose")])],-1),E={class:"py-2"},K={class:"py-2"},Z={class:"py-2"},z={class:"py-2"},G={class:"py-2"};function I(d,o,l,s,J,Q){const m=f("Head");return r(),n(c,null,[x(m,{title:"Add user"}),t("div",D,[L,t("main",S,[t("section",M,[V,t("form",{onSubmit:o[4]||(o[4]=w((...e)=>s.submitApplication&&s.submitApplication(...e),["prevent"])),class:"bg-white p-6 rounded-lg shadow-lg"},[t("div",j,[B,i(t("select",{onChange:o[0]||(o[0]=e=>s.loan.amount=l.loan_packages.filter(b=>b.id==s.loan.loan_package_id)[0].amount),"onUpdate:modelValue":o[1]||(o[1]=e=>s.loan.loan_package_id=e),class:"p-2 w-full border border-gray-300 rounded-lg"},[(r(!0),n(c,null,p(l.loan_packages,e=>(r(),n("option",{key:e.id,value:e.id},"you will get K"+a(e.amount)+" @ "+a(e.rate)+"%/Month for "+a(e.duration)+" months",9,C))),128))],544),[[v,s.loan.loan_package_id]])]),t("div",F,[H,i(t("input",{type:"number",id:"amount","onUpdate:modelValue":o[2]||(o[2]=e=>s.loan.amount=e),placeholder:"Select package above",class:"mt-1 p-2 w-full border border-gray-300 rounded-lg",disabled:""},null,512),[[_,s.loan.amount]])]),t("div",O,[P,i(t("textarea",{id:"purpose","onUpdate:modelValue":o[3]||(o[3]=e=>s.loan.purpose=e),class:"mt-1 p-2 w-full border border-gray-300 rounded-lg",required:""},null,512),[[_,s.loan.purpose]])]),T],32)]),t("section",null,[U,t("div",N,[t("table",Y,[q,t("tbody",null,[(r(!0),n(c,null,p(l.loans.data,e=>(r(),n("tr",{key:e.id,class:"border-t"},[t("td",E,a(new Date(e.created_at).getDate())+"."+a(new Date(e.created_at).getMonth()+1)+"."+a(new Date(e.created_at).getFullYear()),1),t("td",K,a(e.amount),1),t("td",Z,a(e.status),1),t("td",z,a(e.term)+" months",1),t("td",G,a(e.purpose),1)]))),128))])])])])])])],64)}const $=k(A,[["render",I]]);export{$ as default};
