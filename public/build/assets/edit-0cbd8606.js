import{D as u}from"./DashboardLaout-5606b7c3.js";import{i as g,Z as f,T as h,h as x,d as s,b as y,a as o,j as k,l as r,s as v,F as c,g as w,x as m,e as A,o as n,t as i}from"./app-ed9f511e.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const S={components:{DashboardLaout:u,Link:g,Head:f},props:{errors:Object,loan:Object,loan_packages:Object},layout:u,setup(l,a){const e=h({id:null,amount:null,purpose:"",term:null,loan_package_id:""});return{loanForm:e,submitApplication:()=>{e.purpose=l.loan.purpose,e.term=l.loan.term,e.loan_package_id=l.loan.loan_package_id,e.put(route("loans.update",l.loan.id),{onSuccess:p=>{alert("Loan Updated successfully")}})}}}},V={class:"max-w-7xl mx-auto px-2"},D=o("header",{class:"bg-white p-6 shadow"},[o("h2",{class:"text-xl font-bold text-gray-800"},"Loan Details")],-1),U={class:"overflow-y-auto"},j={class:"mb-6"},M={class:"mb-4"},B=o("label",{for:"term",class:"block text-gray-700"},"Select Available Packages",-1),C=["value"],F={class:"mb-4"},H=o("label",{for:"amount",class:"block text-gray-700"},"Loan Amount",-1),N={class:"mb-4"},O=o("label",{for:"purpose",class:"block text-gray-700"},"Purpose",-1),P={key:0,type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg"};function T(l,a,e,d,p,q){const _=x("Head");return n(),s(c,null,[y(_,{title:"Add user"}),o("div",V,[D,o("main",U,[o("section",j,[o("form",{onSubmit:a[4]||(a[4]=k((...t)=>d.submitApplication&&d.submitApplication(...t),["prevent"])),class:"bg-white p-6 rounded-lg shadow-lg"},[o("div",M,[B,r(o("select",{onChange:a[0]||(a[0]=t=>e.loan.amount=e.loan_packages.filter(b=>b.id==e.loan.loan_package_id)[0].amount),"onUpdate:modelValue":a[1]||(a[1]=t=>e.loan.loan_package_id=t),class:"p-2 w-full border border-gray-300 rounded-lg"},[(n(!0),s(c,null,w(e.loan_packages,t=>(n(),s("option",{key:t.id,value:t.id},"you will get K"+i(t.amount)+" @ "+i(t.rate)+"%/Month for "+i(t.duration)+" months",9,C))),128))],544),[[v,e.loan.loan_package_id]])]),o("div",F,[H,r(o("input",{type:"number",id:"amount","onUpdate:modelValue":a[2]||(a[2]=t=>e.loan.amount=t),placeholder:"Select package above",class:"mt-1 p-2 w-full border border-gray-300 rounded-lg",disabled:""},null,512),[[m,e.loan.amount]])]),o("div",N,[O,r(o("textarea",{id:"purpose","onUpdate:modelValue":a[3]||(a[3]=t=>e.loan.purpose=t),class:"mt-1 p-2 w-full border border-gray-300 rounded-lg",required:""},null,512),[[m,e.loan.purpose]])]),l.$page.props.auth.user.role=="admin"?(n(),s("button",P,"Update")):A("",!0)],32)])])])],64)}const z=L(S,[["render",T]]);export{z as default};
